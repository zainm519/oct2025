<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <a-scene>
  </head>
  <script>
  AFRAME.registerComponent('bubble-emitter', {
    init: function () {
      this.el.addEventListener('click', () => {
        for (let i = 0; i < 10; i++) {
          this.spawnBubble();
        }
      });
    },

    spawnBubble: function () {
      const bubble = document.createElement('a-sphere');
      const pos = this.el.object3D.position;

      // Position alÃ©atoire proche de la statue
      bubble.setAttribute('position', {
        x: pos.x + (Math.random() - 0.5) * 0.5,
        y: pos.y + 1,
        z: pos.z + (Math.random() - 0.5) * 0.5
      });

      // Apparence des bulles
      bubble.setAttribute('radius', 0.05 + Math.random() * 0.05);
      bubble.setAttribute('color', '#aeeeee');
      bubble.setAttribute('opacity', 0.6);
      bubble.setAttribute('transparent', true);

      // Animation vers le haut avec disparition
      bubble.setAttribute('animation__move', {
        property: 'position',
        to: `${pos.x} ${pos.y + 3} ${pos.z}`,
        dur: 3000 + Math.random() * 1000,
        easing: 'easeOutQuad'
      });

      bubble.setAttribute('animation__fade', {
        property: 'material.opacity',
        to: 0,
        dur: 3000 + Math.random() * 1000,
        easing: 'linear'
      });    
  <body>
  </head>
  <body>
    <button id="soundButton" onclick="document.querySelector('#bruce').components.sound.playSound()">Activer le son</button> 
    <a-assets>
      <a-entity id="objet" sound="src: url(bruce.mp3); autoplay: false;"></a-entity>

<script>
  document.addEventListener('click', function () {
    document.querySelector('#objet').components.sound.playSound();
  });
</script>    
          <a-asset-item id="albert-obj" src="./tortue/model_46a_-_subadult_green_sea_turtle.obj" modelfixe=""></a-asset-item>
          <a-asset-item id="albert-mtl" src="./tortue/model_46a_-_subadult_green_sea_turtle.mtl"></a-asset-item>
          <a-asset-item id="bruce" src="./shark.glb"></a-asset-item>
          <a-asset-item id="statue" src="./statue_of_emperor_trajan_tower_hill_london.glb"></a-asset-item>
          <a-asset-item id="statue" src="./statue_of_emperor_trajan_tower_hill_london.glb"></a-asset-item>
          <a-asset-item id="franklin" src="./tortue.gltf"></a-asset-item>
        </a-assets>
          <a-entity 
          camera 
          position="0 1.6 0" 
          look-controls 
          limit-camera-rotation>
          </a-entity>
      <a-sky src="./panorama1.jpg"></a-sky>
        <a-obj-model src="#albert-obj" mtl="#albert-mtl"></a-obj-model>
        <a-obj-model src="#albert" mtl="#albert-mtl"></a-obj-model>
    <a-entity id="nage" rotation="0 0 0" animation="property: rotation; to: 0 359 0; dur: 20000; loop: true; easing: linear">
<a-entity id="bruce" gltf-model="./shark.glb" position="-10.5391 1.84493 0" rotation="0 0 -6.621100280531793" animation-mixer="" sound="autoplay: true; loop: true" .="" bruce.mp3";="" volume:="" .5"=""></a-entity>
    
</a-entity>
      <a-gltf-model src="#statue" gltf-model="./statue_of_emperor_trajan_tower_hill_london.glb" position="0 -2.14543 -10.31513"></a-gltf-model>
    </a-scene>
  </body>
</html>
